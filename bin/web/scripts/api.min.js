var app=angular.module("fidloo",["ui.router","ui.bootstrap","ngCookies"]);app.config(function(e,o){login={name:"login",url:"/login",views:{HeaderView:{templateUrl:"templates/header.html",controller:"LoginCntrl"},MainView:{templateUrl:"templates/login.html",controller:"LoginCntrl"}},authenticate:!1},home={name:"home",url:"/home",views:{HeaderView:{templateUrl:"templates/homeHeader.html",controller:"LoginCntrl"},MainView:{templateUrl:"templates/home.html",controller:"LoginCntrl"}},authenticate:!0},e.state(login).state(home)}),app.run(function(e,o,t){e.$on("$stateChangeStart",function(e,n,l,a,i){void 0==t.UserInfo&&1==n.authenticate?(o.go("login"),e.preventDefault()):void 0!=t.UserInfo&&0==n.authenticate&&(o.go("home"),e.preventDefault())})}),app.controller("LoginCntrl",function(e,o,t,n,l){e.login=function(e){l.LogOnCheck()},e.loginmodal=function(){var e=t.open({templateUrl:"modal/login-modal.html"});e.result.then(function(){console.log("close")},function(){console.log("Modal dismissed at: "+new Date)})},e.logout=function(){delete n.UserInfo,o.go("login")}}),app.factory("authFactory",function(e,o){var t={};return t.LogOnCheck=function(){e.UserInfo="cookie found",o.go("home")},t});